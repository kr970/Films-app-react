(this["webpackJsonpfilms-react-redux"]=this["webpackJsonpfilms-react-redux"]||[]).push([[0],{192:function(e,t,a){},193:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),i=a.n(c),o=(a(192),a(193),a(14)),s=a(12),A=a(17),l=a(64),u=a.n(l),j=a(107),b=Object({NODE_ENV:"production",PUBLIC_URL:"/Films-app-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,O="https://api.themoviedb.org/",d="https://image.tmdb.org/t/p/original",p=Object.freeze({SET_FILMS:"SET_FILMS",SET_SELECTED_FILM:"SET_SELECTED_FILM",SET_GENRES:"SET_GENRES",SET_FILTERS:"SET_FILTERS",CHANGE_PAGE:"CHANGE_PAGE",SET_SEARCH:"SET_SEARCH",TOGGLE_ERROR:"TOGGLE_ERROR",TOGGLE_LOADING:"TOGGLE_LOADING",RESET_FILTERS:"RESET_FILTERS"}),f=Object.freeze({ADD_TO_FAVOURITES:"ADD_TO_FAVOURITES",REMOVE_FROM_FAVOURITES:"REMOVE_FROM_FAVOURITES"}),x=Object.freeze({CHANGE_SHOW_SIGN_UP_FLAG:"CHANGE_SHOW_SIGN_UP_FLAG",LOGIN:"LOGIN",LOGOUT:"LOGOUT",ADD_USER_DATA:"ADD_USER_DATA"}),g=Object.freeze({SET_NOTIFICATION:"SET_NOTIFICATION"}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:p.TOGGLE_ERROR,payload:e}},E=function(e){return{type:p.TOGGLE_LOADING,payload:e}},v=function(){var e=Object(j.a)(u.a.mark((function e(t,a,n,r){var c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(E(!0)),e.next=4,fetch("".concat(O).concat(t,"api_key=").concat(b,"&page=").concat(a).concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:i=e.sent,r({type:p.SET_FILMS,payload:i}),r(h()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r(h(e.t0.message));case 15:return e.prev=15,r(E(!1)),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),m=function(e,t,a,n){return function(r){var c=t||a.toString()||n.toString()?function(e,t,a){return"&sort_by=".concat(e,".desc")+"&with_genres=".concat(t.toString())+"&vote_average.gte=".concat(a[0])+"&vote_average.lte=".concat(a[1])}(t,a,n):"";v("3/discover/movie?",e,c,r)}},S=function(e){return{type:p.CHANGE_PAGE,payload:e}},y=function(e){var t=e.filmsData,a=t.films,n=t.pagination,r=t.search,c=t.filters;return{films:a,pagination:n,searchValue:r,genres:c.genres,userScore:c.userScore,sort:c.sort}},C=function(e){return{favourites:e.favouritesData.favourites}},_=a(16),T=a(365),D=a(366),I=a(367),F=a(159),w={progressBar:{position:"relative",display:"inline-flex",top:"-18px",left:10,backgroundColor:F.a[100],borderRadius:"50%",boxShadow:2},progressContainer:{top:0,left:0,bottom:0,right:0,position:"absolute",alignItems:"center"},contentContainer:{display:"flex",justifyContent:"start",flexDirection:"column",flexWrap:"wrap",mt:1,mb:2,flexGrow:1},flexContainer:{display:"flex",justifyContent:"center"},cardContainer:{flexWrap:"wrap",mt:2},search:{width:"90%"},searchInput:{width:"100%"}},R=a(1),G=function(e){var t=Math.round(10*e.average);return Object(R.jsxs)(T.a,{sx:w.progressBar,children:[Object(R.jsx)(D.a,{variant:"determinate",value:t}),Object(R.jsx)(T.a,{sx:Object(o.a)(Object(o.a)({},w.progressContainer),w.flexContainer),children:Object(R.jsx)(I.a,{variant:"caption",component:"div",color:"text.secondary",children:"".concat(t,"%")})})]})},L={card:{width:210,m:1},cardMedia:{cursor:"pointer"},cardContent:{p:1,whiteSpace:"nowrap"},title:{fontWeight:600,textOverflow:"ellipsis",overflow:"hidden"}},B=a(368),N=a(370),U=a(371),k=a(372),M=a(373),H=a(162),P=a.n(H),Q=a(65),z=function(e){var t=Object(A.b)(),a=Object(_.g)(),n=function(e){return t(function(e){return{type:f.ADD_TO_FAVOURITES,payload:e}}(e))},r=function(e){return t(function(e){return{type:f.REMOVE_FROM_FAVOURITES,payload:e}}(e))},c=e.favourites.some((function(t){return t.id===e.film.id})),i=e.film.poster_path?"".concat(d).concat(e.film.poster_path):"data:image/png;base64,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";return Object(R.jsxs)(B.a,{sx:L.card,children:[Object(R.jsx)(N.a,{sx:L.cardMedia,component:"img",height:"300",image:i,alt:"Film",onClick:function(){return t=e.film.id,void a("/films/".concat(t));var t}}),Object(R.jsx)(G,{average:e.film.vote_average}),Object(R.jsxs)(U.a,{sx:L.cardContent,children:[Object(R.jsx)(I.a,{sx:L.title,variant:"subtitle2",color:"text.primary",children:e.film.original_title}),Object(R.jsx)(I.a,{variant:"body2",color:"text.secondary",children:e.film.release_date})]}),Object(R.jsx)(k.a,{disableSpacing:!0,children:Object(R.jsx)(M.a,{"aria-label":"add to fav",sx:{color:c?Q.a[700]:Q.a[100]},onClick:function(){return c?r(e.film):n(e.film)},children:Object(R.jsx)(P.a,{})})})]})},V=a(163),W=a.n(V),K=a(4),Y=a(29),J=Object(K.a)("div")((function(e){var t=e.theme;return{position:"relative",borderRadius:t.shape.borderRadius,boxShadow:"-1px 1px 8px 0px rgba(34, 60, 80, 0.2)",marginTop:t.spacing(2),width:"100%"}})),q=Object(K.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),X=Object(K.a)(Y.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),width:"100%"}}})),Z=function(e){var t=Object(n.useState)(e.value),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(R.jsxs)(J,{onKeyUp:e.onKeyUp,sx:w.search,children:[Object(R.jsx)(q,{children:Object(R.jsx)(W.a,{})}),Object(R.jsx)(X,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},onFocus:e.onFocus,onMouseOut:e.onMouseOut,onChange:function(t){c(t.target.value),e.onChange(t.target.value)},sx:w.searchInput,value:r})]})},$=a(15),ee=a(358),te={genresButton:{mr:1,mt:1},rangeBox:{width:280},buttonBox:{display:"flex",justifyContent:"center",mt:3},sortBox:{mb:2},container:{maxWidth:"300px",ml:2,mt:2,mr:1},button:{mr:1,pl:3,pr:3},typography:{mb:2},formControl:{width:280}},ae=function(e){var t=e.score,a=e.setScore;return Object(R.jsxs)(T.a,{sx:te.rangeBox,children:[Object(R.jsx)(I.a,{variant:"subtitle1",children:"User Score"}),Object(R.jsx)(ee.a,{value:t,min:0,step:.1,max:10,onChange:a,valueLabelDisplay:"auto",scale:function(e){return 10*e}})]})},ne=function(e){return{genres:e.filmsData.filterOption.genres}},re=function(e){var t=e.filmsData.filters;return Object(o.a)({},t)},ce=a(362),ie=function(e){var t=e.selectedGenres,a=e.toggleGenre,r=Object(A.c)(ne).genres,c=Object(A.b)();Object(n.useEffect)((function(){c(function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O).concat("3/genre/movie/list?","api_key=").concat(b));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:p.SET_GENRES,payload:n.genres}),t(h()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t(h(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[c]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(I.a,{variant:"subtitle1",children:"Genres"}),r.map((function(e){return Object(R.jsx)(ce.a,{sx:te.genresButton,size:"small",variant:t.includes(e.id)?"contained":"outlined",onClick:function(){return a(e.id)},children:e.name},e.id)}))]})},oe=a(374),se=a(351),Ae=a(359),le=function(e){var t=e.sort,a=e.selectSort;return Object(R.jsxs)(T.a,{sx:te.sortBox,children:[Object(R.jsx)(I.a,{sx:te.typography,variant:"subtitle1",children:"Sort Results By"}),Object(R.jsx)(oe.a,{sx:te.formControl,size:"small",children:Object(R.jsxs)(se.a,{value:t,onChange:a,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(R.jsx)(Ae.a,{value:"",children:Object(R.jsx)("em",{children:"None"})}),Object(R.jsx)(Ae.a,{value:"popularity",children:"Popularity"}),Object(R.jsx)(Ae.a,{value:"release_date",children:"Release date"}),Object(R.jsx)(Ae.a,{value:"vote_average",children:"Vote average"})]})})]})},ue=function(){var e=Object(A.b)(),t=Object(A.c)(re),a=t.genres,r=t.userScore,c=t.sort,i=Object(n.useState)(a),o=Object(s.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(r.length?r:[0,10]),b=Object(s.a)(j,2),O=b[0],d=b[1],f=Object(n.useState)(c),x=Object(s.a)(f,2),g=x[0],h=x[1];return Object(R.jsxs)(T.a,{sx:te.container,children:[Object(R.jsx)(le,{sort:g,selectSort:function(e){h(e.target.value)}}),Object(R.jsx)(ae,{score:O,setScore:function(e,t){d(t)}}),Object(R.jsx)(ie,{toggleGenre:function(e){var t=l.includes(e)?l.filter((function(t){return t!==e})):[].concat(Object($.a)(l),[e]);u(t)},selectedGenres:l}),Object(R.jsxs)(T.a,{sx:te.buttonBox,children:[Object(R.jsx)(ce.a,{sx:te.button,size:"small",variant:"contained",onClick:function(){e(function(e,t,a){return{type:p.SET_FILTERS,payload:{genres:e,userScore:t,sort:a}}}(l,O,g)),e(m(1,g,l,O))},children:"Apply"}),Object(R.jsx)(ce.a,{sx:te.button,size:"small",variant:"contained",onClick:function(){u([]),d([0,10]),h(""),e({type:p.RESET_FILTERS}),e(m(1,"",[],[]))},children:"Reset"})]})]})},je={container:{display:"flex",justifyContent:"center",alignItems:"center"}},be=function(){return Object(R.jsx)(T.a,{sx:je.container,children:Object(R.jsx)(I.a,{variant:"h1",children:"Not found"})})},Oe=a(352),de=a(349),pe=function(){var e=Object(A.c)(y),t=e.films,a=e.pagination,r=e.searchValue,c=e.genres,i=e.userScore,l=e.sort,u=Object(A.c)(C).favourites,j=Object(A.b)(),b=Object(n.useState)(r),O=Object(s.a)(b,2),d=O[0],f=O[1],x=Object(n.useState)(!1),g=Object(s.a)(x,2),h=g[0],E=g[1],_=a.total_results<20;Object(n.useEffect)((function(){var e,t;j(r?(e=r,t=a.page,function(a){v("3/search/movie?",t,"&query=".concat(e),a)}):m(a.page,l,c,i))}),[a.page,r,l,c,i,j]);return Object(R.jsxs)(T.a,{sx:{display:"flex"},children:[Object(R.jsx)(de.a,{in:!h,children:Object(R.jsx)(T.a,{sx:{display:h||d?"none":"flex"},children:Object(R.jsx)(ue,{})})}),Object(R.jsxs)(T.a,{sx:w.contentContainer,children:[Object(R.jsx)(T.a,{sx:w.flexContainer,children:Object(R.jsx)(Z,{onKeyUp:function(e){if(13===e.keyCode)return j(S(1)),void j((t=d,{type:p.SET_SEARCH,payload:t}));var t},onFocus:function(){E(!0)},onMouseOut:function(){E(!1)},onChange:function(e){f(e)},value:r})}),t.length?Object(R.jsx)(T.a,{sx:Object(o.a)(Object(o.a)({},w.cardContainer),w.flexContainer),children:t.map((function(e){return Object(R.jsx)(z,{film:e,favourites:u},e.id)}))}):Object(R.jsx)(be,{}),_?null:Object(R.jsx)(T.a,{sx:w.flexContainer,children:Object(R.jsx)(Oe.a,{onChange:function(e,t){j(S(t))},page:a.page,count:a.total_pages,color:"primary",size:"large"})})]})]})},fe=function(e){return{selectedFilm:e.filmsData.selectedFilm}},xe=a(369),ge={paperContainer:{backgroundColor:"rgba(0, 0, 0, 0.1)",height:"calc(100% - 64px)",backgroundSize:"cover",pt:5},flexContainer:{display:"flex",flexDirection:"column",flexWrap:"wrap",color:F.a[50],ml:20,maxWidth:"1000px",backgroundColor:"rgba(27, 31, 34, 0.1)"},typography:{mb:1},title:{mb:5},subtitle:{mb:1,textTransform:"uppercase"}},he=function(){var e=Object(A.c)(fe).selectedFilm,t=Object(_.h)().id,a=Object(A.b)(),r="".concat(d).concat(e.backdrop_path);return Object(n.useEffect)((function(){a(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(O).concat("3/movie/").concat(e,"?api_key=").concat(b));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,a({type:p.SET_SELECTED_FILM,payload:r}),a(h()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a(h(t.t0.message));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t,a]),Object(R.jsx)(xe.a,{sx:Object(o.a)(Object(o.a)({},ge.paperContainer),{},{backgroundImage:"url(".concat(r,")")}),children:Object(R.jsxs)(T.a,{sx:ge.flexContainer,children:[Object(R.jsx)(I.a,{variant:"h3",sx:ge.title,children:e.original_title}),Object(R.jsx)(I.a,{variant:"h6",sx:ge.subtitle,children:e.original_language}),Object(R.jsx)(I.a,{variant:"h6",sx:ge.typography,children:e.release_date}),Object(R.jsx)(I.a,{variant:"h6",sx:ge.typography,children:e.overview})]})})},Ee=a(88),ve=a(77),me=a(173),Se=a(355),ye=["name"],Ce=function(e){var t=e.name,a=Object(me.a)(e,ye),n=Object(Ee.c)(t),r=Object(s.a)(n,2),c=r[0],i=r[1],A=Object(o.a)(Object(o.a)(Object(o.a)({},c),a),{},{fullWidth:!0,sx:{m:2}});return i&&i.touched&&i.error&&(A.error=!0,A.helperText=i.error),Object(R.jsx)(Se.a,Object(o.a)({},A))},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:g.SET_NOTIFICATION,payload:e}},Te=function(e){var t=e.formData;return{showSignUp:t.showSignUp,loginFailed:t.loginFailed,currentUser:t.currentUser}},De=a(377),Ie=a(378),Fe=a(105),we=a.n(Fe),Re=a(66),Ge=a(67),Le={box:{p:2,border:"2px solid",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center"},link:{color:Ge.a[800]},title:{color:Ge.a[800],textTransform:"uppercase",mb:3},icon:{fontSize:50,color:Ge.a[900]},button:{background:Ge.a[800],m:2,p:1},container:{mt:10}},Be={email:"",userName:"",password:""},Ne=ve.a().shape({userName:ve.b().required("Required"),password:ve.b().required("No password provided.").min(7,"Password is too short - should be 7 chars minimum.").matches(/[a-zA-Z]/,"Password can only contain Latin letters.")}),Ue=Ne.concat(ve.a({email:ve.b().email("Invalid email").required("Required")})),ke=function(){var e=Object(A.b)(),t=Object(A.c)(Te),a=t.showSignUp,n=t.loginFailed,r=t.currentUser,c=n?Re.a[500]:Ge.a[800],i=function(t){var n=t.userName,r=t.password,c=t.email;if(a)return e(function(e,t,a){return{type:x.ADD_USER_DATA,payload:{userName:e,password:t,email:a}}}(n,r,c)),void e(_e("User ".concat(n," successfully registered!")));e(function(e,t){return{type:x.LOGIN,payload:{userName:e,password:t}}}(n,r))};return r?Object(R.jsx)(_.a,{to:"/films"}):Object(R.jsx)(De.a,{maxWidth:"xs",sx:Le.container,children:Object(R.jsx)(Ee.b,{initialValues:Object(o.a)({},Be),validationSchema:a?Ue:Ne,onSubmit:function(e){return i(e)},children:Object(R.jsx)(Ee.a,{children:Object(R.jsxs)(T.a,{sx:Object(o.a)(Object(o.a)({},Le.box),{},{borderColor:c}),children:[Object(R.jsx)(we.a,{sx:Le.icon}),Object(R.jsx)(I.a,{variant:"h5",sx:Le.title,children:a?"Sign up":"Sign in"}),Object(R.jsx)(Ce,{name:"userName",label:"User Name"}),Object(R.jsx)(Ce,{name:"password",label:"Password",type:"password"}),a&&Object(R.jsx)(Ce,{name:"email",label:"Email"}),Object(R.jsx)(ce.a,{fullWidth:!0,type:"submit",variant:"contained",sx:Le.button,children:"Submit"}),Object(R.jsx)(Ie.a,{onClick:function(){e(function(e){return{type:x.CHANGE_SHOW_SIGN_UP_FLAG,payload:e}}(!a))},href:"#",variant:"subtitle2",sx:Le.link,children:a?"Already have an account? Sign in":"Create an Acount"}),Object(R.jsx)(I.a,{variant:"subtitle2",color:"red",children:n?"Login failed":""})]})})})})},Me=function(e){return{userName:e.formData.currentUser.userName}},He=a(379),Pe=a(380),Qe=a(353),ze=a(381),Ve=a(361),We=a(172),Ke=Object(We.a)({palette:{secondary:{main:"#fff"}}}),Ye={tabsContainer:{flexGrow:1},iconContainer:{display:"flex",flexDirection:"row"},typography:{pt:1.5},icon:{fontSize:40}},Je=function(){var e=Object(A.b)(),t=Object(A.c)(Me).userName,a=Object(_.g)(),r=Object(n.useState)(0),c=Object(s.a)(r,2),i=c[0],o=c[1];return Object(R.jsx)(He.a,{position:"static",color:"primary",children:Object(R.jsxs)(Pe.a,{children:[Object(R.jsx)(T.a,{sx:Ye.tabsContainer,children:Object(R.jsx)(Ve.a,{theme:Ke,children:Object(R.jsxs)(Qe.a,{value:i,onChange:function(e,t){o(t)},"aria-label":"tabs",textColor:"secondary",indicatorColor:"secondary",children:[Object(R.jsx)(ze.a,{label:"Films",onClick:function(){return a("/films")}}),Object(R.jsx)(ze.a,{label:"Favourites",onClick:function(){return a("/favourites")}})]})})}),Object(R.jsxs)(T.a,{sx:Ye.iconContainer,children:[Object(R.jsx)(I.a,{variant:"body1",sx:Ye.typography,children:t}),Object(R.jsx)(M.a,{color:"inherit",onClick:function(){e({type:x.LOGOUT,payload:null}),a("/login")},children:Object(R.jsx)(we.a,{sx:Ye.icon})})]})]})})},qe=a(73),Xe=a(169),Ze=a(170),$e={showSignUp:!1,loginFailed:!1,userData:[{userName:"test123",password:"test123",email:"test@test.com"}],currentUser:null};var et={films:[],pagination:{page:1,totalPages:0,totalResults:0},filterOption:{genres:[]},filters:{genres:[],userScore:[],sort:""},search:"",selectedFilm:{},isLoading:!1,error:""};var tt={favourites:[]};var at={notification:""};var nt=Object(qe.combineReducers)({formData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SHOW_SIGN_UP_FLAG":return Object(o.a)(Object(o.a)({},e),{},{loginFailed:!1,showSignUp:t.payload});case"LOGIN":var a=t.payload,n=a.userName,r=a.password,c=e.userData.find((function(e){return e.userName===n&&e.password===r}));return Object(o.a)(Object(o.a)({},e),{},{loginFailed:!c,currentUser:c});case"LOGOUT":return $e;case"ADD_USER_DATA":return Object(o.a)(Object(o.a)({},e),{},{userData:[].concat(Object($.a)(e.userData),[t.payload]),showSignUp:!1});default:return e}},filmsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILMS":return Object(o.a)(Object(o.a)({},e),{},{films:t.payload.results,pagination:{page:t.payload.page,total_pages:t.payload.total_pages,total_results:t.payload.total_results}});case"SET_SELECTED_FILM":return Object(o.a)(Object(o.a)({},e),{},{selectedFilm:t.payload});case"SET_GENRES":return Object(o.a)(Object(o.a)({},e),{},{filterOption:{genres:t.payload}});case"SET_FILTERS":return Object(o.a)(Object(o.a)({},e),{},{filters:{genres:t.payload.genres,userScore:t.payload.userScore,sort:t.payload.sort},pagination:Object(o.a)({},et.pagination)});case"CHANGE_PAGE":return Object(o.a)(Object(o.a)({},e),{},{pagination:Object(o.a)(Object(o.a)({},e.pagination),{},{page:t.payload})});case"SET_SEARCH":return Object(o.a)(Object(o.a)({},e),{},{search:t.payload});case"TOGGLE_LOADING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:t.payload});case"TOGGLE_ERROR":return Object(o.a)(Object(o.a)({},e),{},{error:t.payload});case"LOGOUT":return et;case"RESET_FILTERS":return Object(o.a)(Object(o.a)({},e),{},{filters:Object(o.a)({},et.filters),pagination:Object(o.a)(Object(o.a)({},e.pagination),{},{page:t.payload})});default:return e}},favouritesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVOURITES":return Object(o.a)(Object(o.a)({},e),{},{favourites:[].concat(Object($.a)(e.favourites),[t.payload])});case"REMOVE_FROM_FAVOURITES":var a=e.favourites.filter((function(e){return e.id!==t.payload.id}));return Object(o.a)(Object(o.a)({},e),{},{favourites:a});case"LOGOUT":return tt;default:return e}},notificationData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;return"SET_NOTIFICATION"===t.type?Object(o.a)(Object(o.a)({},e),{},{notification:t.payload}):e}}),rt=Object(qe.createStore)(nt,Object(Xe.composeWithDevTools)(Object(qe.applyMiddleware)(Ze.a))),ct=a(125),it={favourites:{display:"flex",justifyContent:"center",mt:2,flexWrap:"wrap"}},ot=function(){var e=Object(A.c)((function(e){return e.favouritesData.favourites}));return e.toString()?Object(R.jsx)(T.a,{sx:it.favourites,children:e.map((function(t){return Object(R.jsx)(z,{film:t,favourites:e},t.id)}))}):Object(R.jsx)(be,{})},st=function(e){var t=e.children;return Object(A.c)((function(e){return e.formData.currentUser}))?t:Object(R.jsx)(_.a,{to:"/login"})},At=function(e){return{isLoading:e.filmsData.isLoading}},lt=a(363),ut={backdrop:{color:F.a[50],zIndex:2}},jt=function(){var e=Object(A.c)(At).isLoading;return Object(R.jsx)("div",{children:Object(R.jsx)(lt.a,{sx:ut.backdrop,open:e,children:Object(R.jsx)(D.a,{color:"inherit"})})})},bt=a(357),Ot=a(356),dt=function(){var e=Object(A.c)((function(e){return e.filmsData.error}));return Object(R.jsx)(bt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!e,autoHideDuration:6e3,message:e,children:Object(R.jsx)(Ot.a,{severity:"error",children:e})})},pt=function(){var e=Object(A.b)(),t=Object(A.c)((function(e){return e.notificationData.notification}));return Object(R.jsx)(bt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!t,autoHideDuration:3e3,message:t,onClose:function(){return e(_e())},children:Object(R.jsx)(Ot.a,{children:t})})},ft=a(171),xt=a.n(ft),gt=function(){return Object(R.jsxs)(T.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",pt:10,color:F.a[800]},children:[Object(R.jsx)(xt.a,{sx:{fontSize:300,color:F.a[800]}}),Object(R.jsx)(I.a,{variant:"h1",children:"404"}),Object(R.jsx)(I.a,{variant:"h4",children:"Page not found"}),Object(R.jsx)(I.a,{variant:"h6",children:"The page you are looking for doesn't exist"})]})};var ht=function(){return Object(R.jsxs)(A.a,{store:rt,children:[Object(R.jsx)(jt,{}),Object(R.jsx)(dt,{}),Object(R.jsx)(pt,{}),Object(R.jsx)(ct.a,{children:Object(R.jsxs)(_.d,{children:[Object(R.jsx)(_.b,{path:"/",element:Object(R.jsx)(_.a,{to:"/films"})}),Object(R.jsx)(_.b,{path:"/films",element:Object(R.jsxs)(st,{children:[Object(R.jsx)(Je,{}),Object(R.jsx)(pe,{})]})}),Object(R.jsx)(_.b,{path:"/films/:id",element:Object(R.jsxs)(st,{children:[Object(R.jsx)(Je,{}),Object(R.jsx)(he,{})]})}),Object(R.jsx)(_.b,{path:"/favourites",element:Object(R.jsxs)(st,{children:[Object(R.jsx)(Je,{}),Object(R.jsx)(ot,{})]})}),Object(R.jsx)(_.b,{path:"/login",element:Object(R.jsx)(ke,{})}),Object(R.jsx)(_.b,{path:"*",element:Object(R.jsx)(gt,{})})]})})]})},Et=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,382)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ht,{})}),document.getElementById("root")),Et()}},[[301,1,2]]]);
//# sourceMappingURL=main.8c46315e.chunk.js.map